import{d as w,u as b,r as V,a as i,o as x,c as y,b as s,w as n,e as v,f as u,g as E,h as U,E as h,_ as C}from"./index-DkugqgKa.js";const B={class:"login-container"},N=w({__name:"index",setup(R){let p=b(),f=v();const d=V(),t=i({username:"",password:""}),_=i({password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:4,message:"请输入4位以上长度的密码",trigger:["blur","change"]}],username:[{required:!0,validator:(l,e,r)=>{e=e.trim();const o=e&&e.length,m=/^[a-zA-Z0-9_]+$/;e==""?r(new Error("请输入账号")):o<4||o>12?r(new Error("请输入4到12位直接的账号")):m.test(e)?r():r(new Error("账号只能包含英文字母数字和下划线"))},trigger:["blur","change"]}]}),c=async l=>{l&&await l.validate(async(e,r)=>{if(e)try{await p.userLogin(t),f.push("/"),h({type:"success",message:"登录成功"})}catch{}else console.log("error submit!",r)})};return(l,e)=>{const r=u("el-input"),o=u("el-form-item"),m=u("el-button"),g=u("el-form");return x(),y("div",B,[s(g,{ref_key:"ruleFormRef",ref:d,model:t,rules:_,"label-width":"80px",class:"login-form"},{default:n(()=>[e[4]||(e[4]=E("h2",{class:"login-title"},"登录",-1)),s(o,{label:"账号",prop:"username"},{default:n(()=>[s(r,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=a=>t.username=a),placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),s(o,{label:"密码",prop:"password"},{default:n(()=>[s(r,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.password=a),placeholder:"请输入密码",type:"password"},null,8,["modelValue"])]),_:1}),s(o,null,{default:n(()=>[s(m,{type:"primary",onClick:e[2]||(e[2]=a=>c(d.value))},{default:n(()=>e[3]||(e[3]=[U(" 登录 ")])),_:1})]),_:1})]),_:1},8,["model","rules"])])}}}),q=C(N,[["__scopeId","data-v-ab675523"]]);export{q as default};
